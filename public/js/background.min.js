let blocklist=[],isWhiteList=!1;chrome.runtime.onInstalled.addListener((()=>{chrome.storage.sync.set({blocklist:[]}),chrome.storage.sync.set({isWhiteList:!1})})),chrome.tabs.onUpdated.addListener(((t,e,s)=>{targetURL=new URL(s.url),chrome.storage.sync.get(["blocklist","isWhiteList"],(function(e){let s=e.blocklist,i=e.isWhiteList;(s.includes(targetURL.hostname)&&!i||!s.includes(targetURL.hostname)&&i)&&chrome.tabs.update(t,{url:chrome.runtime.getURL(`redirect.html?url=${targetURL.hostname}`)})}))}));